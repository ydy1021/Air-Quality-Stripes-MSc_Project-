{"ast":null,"code":"var _jsxFileName = \"E:\\\\Master2\\\\FYP\\\\Global\\\\Global\\\\dashboard_ComparisionVersion\\\\src\\\\NativeZoomMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WORLD_GEOJSON_URL = 'world-110m.geojson';\nconst CITIES_JSON = 'cities_with_coords.json';\nfunction NativeZoomMap({\n  onCitySelect,\n  selectedCities\n}) {\n  _s();\n  const svgRef = useRef();\n  const [cities, setCities] = useState([]);\n  const [world, setWorld] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [transform, setTransform] = useState({\n    k: 1,\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [lastMouse, setLastMouse] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // 加载数据\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setIsLoading(true);\n        const [worldData, citiesData] = await Promise.all([d3.json(WORLD_GEOJSON_URL), d3.json(CITIES_JSON)]);\n        if (worldData && worldData.features) {\n          setWorld(worldData);\n        }\n        if (citiesData && Array.isArray(citiesData)) {\n          setCities(citiesData);\n        }\n      } catch (error) {\n        console.error('Error loading data:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadData();\n  }, []);\n\n  // 缩放控制函数\n  const handleZoomIn = () => {\n    setTransform(prev => ({\n      ...prev,\n      k: Math.min(prev.k * 1.5, 8)\n    }));\n  };\n  const handleZoomOut = () => {\n    setTransform(prev => ({\n      ...prev,\n      k: Math.max(prev.k / 1.5, 0.5)\n    }));\n  };\n  const handleReset = () => {\n    setTransform({\n      k: 1,\n      x: 0,\n      y: 0\n    });\n  };\n\n  // 鼠标事件处理\n  const handleMouseDown = event => {\n    setIsDragging(true);\n    setLastMouse({\n      x: event.clientX,\n      y: event.clientY\n    });\n    event.preventDefault();\n  };\n  const handleMouseMove = event => {\n    if (!isDragging) return;\n    const deltaX = event.clientX - lastMouse.x;\n    const deltaY = event.clientY - lastMouse.y;\n    setTransform(prev => ({\n      ...prev,\n      x: prev.x + deltaX,\n      y: prev.y + deltaY\n    }));\n    setLastMouse({\n      x: event.clientX,\n      y: event.clientY\n    });\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  const handleWheel = event => {\n    event.preventDefault();\n    const rect = svgRef.current.getBoundingClientRect();\n    const mouseX = event.clientX - rect.left;\n    const mouseY = event.clientY - rect.top;\n    const scale = event.deltaY > 0 ? 0.9 : 1.1;\n    const newK = Math.min(Math.max(transform.k * scale, 0.5), 8);\n    if (newK !== transform.k) {\n      const factor = newK / transform.k;\n      setTransform(prev => ({\n        k: newK,\n        x: mouseX - factor * (mouseX - prev.x),\n        y: mouseY - factor * (mouseY - prev.y)\n      }));\n    }\n  };\n\n  // 绘制地图\n  useEffect(() => {\n    if (!world || !world.features || !cities.length || isLoading || !svgRef.current) return;\n    try {\n      const width = 1000,\n        height = 500;\n      const svg = d3.select(svgRef.current);\n\n      // 清除之前的内容\n      svg.selectAll('*').remove();\n\n      // 设置SVG尺寸\n      svg.attr('width', width).attr('height', height);\n\n      // 投影\n      const projection = d3.geoNaturalEarth1().fitSize([width, height], world);\n      const path = d3.geoPath().projection(projection);\n\n      // 创建主要的g元素用于缩放变换\n      const g = svg.append('g').attr('class', 'map-group');\n\n      // 绘制国家\n      g.append('g').attr('class', 'countries').selectAll('path').data(world.features).enter().append('path').attr('d', path).attr('fill', '#f0f0f0').attr('stroke', '#666').attr('stroke-width', 0.8);\n\n      // 绘制城市点 - 只绘制有效的投影\n      const citiesGroup = g.append('g').attr('class', 'cities');\n      cities.forEach(city => {\n        const projected = projection([city.lng, city.lat]);\n        if (projected) {\n          citiesGroup.append('circle').attr('cx', projected[0]).attr('cy', projected[1]).attr('r', 5).attr('fill', selectedCities.find(c => c.city === city.city && c.country === city.country) ? '#d32f2f' : '#1976d2').attr('stroke', '#fff').attr('stroke-width', 2).style('cursor', 'pointer').on('click', () => {\n            if (onCitySelect) onCitySelect(city);\n          }).append('title').text(`${city.city}, ${city.country}`);\n        }\n      });\n\n      // 应用变换\n      g.attr('transform', `translate(${transform.x}, ${transform.y}) scale(${transform.k})`);\n\n      // 调整元素大小\n      if (transform.k > 0) {\n        citiesGroup.selectAll('circle').attr('r', 5 / transform.k).attr('stroke-width', 2 / transform.k);\n        g.selectAll('.countries path').attr('stroke-width', 0.8 / transform.k);\n      }\n    } catch (error) {\n      console.error('Error rendering native zoom map:', error);\n    }\n  }, [world, cities, selectedCities, onCitySelect, isLoading, transform]);\n\n  // 添加全局鼠标事件监听器\n  useEffect(() => {\n    const handleGlobalMouseMove = event => handleMouseMove(event);\n    const handleGlobalMouseUp = () => handleMouseUp();\n    if (isDragging) {\n      document.addEventListener('mousemove', handleGlobalMouseMove);\n      document.addEventListener('mouseup', handleGlobalMouseUp);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleGlobalMouseMove);\n      document.removeEventListener('mouseup', handleGlobalMouseUp);\n    };\n  }, [isDragging, lastMouse]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        margin: 20,\n        color: '#666'\n      },\n      children: \"Loading map data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        display: 'inline-block'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          zIndex: 10,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '5px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleZoomIn,\n          style: buttonStyle,\n          title: \"\\u653E\\u5927\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleZoomOut,\n          style: buttonStyle,\n          title: \"\\u7F29\\u5C0F\",\n          children: \"\\u2212\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReset,\n          style: buttonStyle,\n          title: \"\\u91CD\\u7F6E\",\n          children: \"\\u2302\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        style: {\n          cursor: isDragging ? 'grabbing' : 'grab'\n        },\n        onMouseDown: handleMouseDown,\n        onWheel: handleWheel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8,\n        color: '#888'\n      },\n      children: [\"\\u539F\\u751F\\u7F29\\u653E\\u5730\\u56FE - \\u62D6\\u62FD\\u5E73\\u79FB\\uFF0C\\u6EDA\\u8F6E\\u7F29\\u653E\\uFF0C\\u7F29\\u653E\\u6BD4\\u4F8B: \", transform.k.toFixed(2), \"x\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n_s(NativeZoomMap, \"R5xZ7pms5afQIXjIQ9ZpOXgwWns=\");\n_c = NativeZoomMap;\nconst buttonStyle = {\n  width: 30,\n  height: 30,\n  border: '1px solid #ccc',\n  backgroundColor: 'white',\n  borderRadius: '3px',\n  cursor: 'pointer',\n  fontSize: '16px',\n  fontWeight: 'bold',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n};\nexport default NativeZoomMap;\nvar _c;\n$RefreshReg$(_c, \"NativeZoomMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","jsxDEV","_jsxDEV","WORLD_GEOJSON_URL","CITIES_JSON","NativeZoomMap","onCitySelect","selectedCities","_s","svgRef","cities","setCities","world","setWorld","isLoading","setIsLoading","transform","setTransform","k","x","y","isDragging","setIsDragging","lastMouse","setLastMouse","loadData","worldData","citiesData","Promise","all","json","features","Array","isArray","error","console","handleZoomIn","prev","Math","min","handleZoomOut","max","handleReset","handleMouseDown","event","clientX","clientY","preventDefault","handleMouseMove","deltaX","deltaY","handleMouseUp","handleWheel","rect","current","getBoundingClientRect","mouseX","left","mouseY","top","scale","newK","factor","length","width","height","svg","select","selectAll","remove","attr","projection","geoNaturalEarth1","fitSize","path","geoPath","g","append","data","enter","citiesGroup","forEach","city","projected","lng","lat","find","c","country","style","on","text","handleGlobalMouseMove","handleGlobalMouseUp","document","addEventListener","removeEventListener","textAlign","margin","color","children","fileName","_jsxFileName","lineNumber","columnNumber","position","display","zIndex","flexDirection","gap","onClick","buttonStyle","title","ref","cursor","onMouseDown","onWheel","marginTop","toFixed","_c","border","backgroundColor","borderRadius","fontSize","fontWeight","alignItems","justifyContent","boxShadow","$RefreshReg$"],"sources":["E:/Master2/FYP/Global/Global/dashboard_ComparisionVersion/src/NativeZoomMap.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst WORLD_GEOJSON_URL = 'world-110m.geojson';\r\nconst CITIES_JSON = 'cities_with_coords.json';\r\n\r\nfunction NativeZoomMap({ onCitySelect, selectedCities }) {\r\n  const svgRef = useRef();\r\n  const [cities, setCities] = useState([]);\r\n  const [world, setWorld] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [transform, setTransform] = useState({ k: 1, x: 0, y: 0 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [lastMouse, setLastMouse] = useState({ x: 0, y: 0 });\r\n\r\n  // 加载数据\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        \r\n        const [worldData, citiesData] = await Promise.all([\r\n          d3.json(WORLD_GEOJSON_URL),\r\n          d3.json(CITIES_JSON)\r\n        ]);\r\n        \r\n        if (worldData && worldData.features) {\r\n          setWorld(worldData);\r\n        }\r\n        if (citiesData && Array.isArray(citiesData)) {\r\n          setCities(citiesData);\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('Error loading data:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadData();\r\n  }, []);\r\n\r\n  // 缩放控制函数\r\n  const handleZoomIn = () => {\r\n    setTransform(prev => ({\r\n      ...prev,\r\n      k: Math.min(prev.k * 1.5, 8)\r\n    }));\r\n  };\r\n\r\n  const handleZoomOut = () => {\r\n    setTransform(prev => ({\r\n      ...prev,\r\n      k: Math.max(prev.k / 1.5, 0.5)\r\n    }));\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setTransform({ k: 1, x: 0, y: 0 });\r\n  };\r\n\r\n  // 鼠标事件处理\r\n  const handleMouseDown = (event) => {\r\n    setIsDragging(true);\r\n    setLastMouse({ x: event.clientX, y: event.clientY });\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleMouseMove = (event) => {\r\n    if (!isDragging) return;\r\n    \r\n    const deltaX = event.clientX - lastMouse.x;\r\n    const deltaY = event.clientY - lastMouse.y;\r\n    \r\n    setTransform(prev => ({\r\n      ...prev,\r\n      x: prev.x + deltaX,\r\n      y: prev.y + deltaY\r\n    }));\r\n    \r\n    setLastMouse({ x: event.clientX, y: event.clientY });\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n  };\r\n\r\n  const handleWheel = (event) => {\r\n    event.preventDefault();\r\n    const rect = svgRef.current.getBoundingClientRect();\r\n    const mouseX = event.clientX - rect.left;\r\n    const mouseY = event.clientY - rect.top;\r\n    \r\n    const scale = event.deltaY > 0 ? 0.9 : 1.1;\r\n    const newK = Math.min(Math.max(transform.k * scale, 0.5), 8);\r\n    \r\n    if (newK !== transform.k) {\r\n      const factor = newK / transform.k;\r\n      setTransform(prev => ({\r\n        k: newK,\r\n        x: mouseX - factor * (mouseX - prev.x),\r\n        y: mouseY - factor * (mouseY - prev.y)\r\n      }));\r\n    }\r\n  };\r\n\r\n  // 绘制地图\r\n  useEffect(() => {\r\n    if (!world || !world.features || !cities.length || isLoading || !svgRef.current) return;\r\n    \r\n    try {\r\n      const width = 1000, height = 500;\r\n      const svg = d3.select(svgRef.current);\r\n      \r\n      // 清除之前的内容\r\n      svg.selectAll('*').remove();\r\n      \r\n      // 设置SVG尺寸\r\n      svg.attr('width', width).attr('height', height);\r\n\r\n      // 投影\r\n      const projection = d3.geoNaturalEarth1().fitSize([width, height], world);\r\n      const path = d3.geoPath().projection(projection);\r\n\r\n      // 创建主要的g元素用于缩放变换\r\n      const g = svg.append('g').attr('class', 'map-group');\r\n\r\n      // 绘制国家\r\n      g.append('g')\r\n        .attr('class', 'countries')\r\n        .selectAll('path')\r\n        .data(world.features)\r\n        .enter()\r\n        .append('path')\r\n        .attr('d', path)\r\n        .attr('fill', '#f0f0f0')\r\n        .attr('stroke', '#666')\r\n        .attr('stroke-width', 0.8);\r\n\r\n      // 绘制城市点 - 只绘制有效的投影\r\n      const citiesGroup = g.append('g').attr('class', 'cities');\r\n      \r\n      cities.forEach(city => {\r\n        const projected = projection([city.lng, city.lat]);\r\n        if (projected) {\r\n          citiesGroup.append('circle')\r\n            .attr('cx', projected[0])\r\n            .attr('cy', projected[1])\r\n            .attr('r', 5)\r\n            .attr('fill', selectedCities.find(c => c.city === city.city && c.country === city.country) ? '#d32f2f' : '#1976d2')\r\n            .attr('stroke', '#fff')\r\n            .attr('stroke-width', 2)\r\n            .style('cursor', 'pointer')\r\n            .on('click', () => {\r\n              if (onCitySelect) onCitySelect(city);\r\n            })\r\n            .append('title')\r\n            .text(`${city.city}, ${city.country}`);\r\n        }\r\n      });\r\n\r\n      // 应用变换\r\n      g.attr('transform', `translate(${transform.x}, ${transform.y}) scale(${transform.k})`);\r\n      \r\n      // 调整元素大小\r\n      if (transform.k > 0) {\r\n        citiesGroup.selectAll('circle')\r\n          .attr('r', 5 / transform.k)\r\n          .attr('stroke-width', 2 / transform.k);\r\n        \r\n        g.selectAll('.countries path')\r\n          .attr('stroke-width', 0.8 / transform.k);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error rendering native zoom map:', error);\r\n    }\r\n  }, [world, cities, selectedCities, onCitySelect, isLoading, transform]);\r\n\r\n  // 添加全局鼠标事件监听器\r\n  useEffect(() => {\r\n    const handleGlobalMouseMove = (event) => handleMouseMove(event);\r\n    const handleGlobalMouseUp = () => handleMouseUp();\r\n\r\n    if (isDragging) {\r\n      document.addEventListener('mousemove', handleGlobalMouseMove);\r\n      document.addEventListener('mouseup', handleGlobalMouseUp);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleGlobalMouseMove);\r\n      document.removeEventListener('mouseup', handleGlobalMouseUp);\r\n    };\r\n  }, [isDragging, lastMouse]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', margin: 20, color: '#666' }}>\r\n        Loading map data...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <div style={{ position: 'relative', display: 'inline-block' }}>\r\n        {/* 缩放控制按钮 */}\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: 10,\r\n          left: 10,\r\n          zIndex: 10,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          gap: '5px'\r\n        }}>\r\n          <button onClick={handleZoomIn} style={buttonStyle} title=\"放大\">+</button>\r\n          <button onClick={handleZoomOut} style={buttonStyle} title=\"缩小\">−</button>\r\n          <button onClick={handleReset} style={buttonStyle} title=\"重置\">⌂</button>\r\n        </div>\r\n        \r\n        <svg \r\n          ref={svgRef} \r\n          style={{ cursor: isDragging ? 'grabbing' : 'grab' }}\r\n          onMouseDown={handleMouseDown}\r\n          onWheel={handleWheel}\r\n        />\r\n      </div>\r\n      <div style={{marginTop: 8, color: '#888'}}>\r\n        原生缩放地图 - 拖拽平移，滚轮缩放，缩放比例: {transform.k.toFixed(2)}x\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst buttonStyle = {\r\n  width: 30,\r\n  height: 30,\r\n  border: '1px solid #ccc',\r\n  backgroundColor: 'white',\r\n  borderRadius: '3px',\r\n  cursor: 'pointer',\r\n  fontSize: '16px',\r\n  fontWeight: 'bold',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n};\r\n\r\nexport default NativeZoomMap; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}